{"ast":null,"code":"import _defineProperty from\"/home/moringa/Documents/Moringa/Development/code/phase3/PROJECT/the-booze-bodega/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/moringa/Documents/Moringa/Development/code/phase3/PROJECT/the-booze-bodega/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/moringa/Documents/Moringa/Development/code/phase3/PROJECT/the-booze-bodega/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from'react';import Popup from'reactjs-popup';import{AppContext}from'../services/app-context';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LiquorCategory(_ref){var props=_ref.props;var _useState=useState({name:'',review_data:{rating:'',comment:'',liquor_id:''}}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var _useContext=useContext(AppContext),reviews=_useContext.reviews,handleDelete=_useContext.handleDelete,addToCart=_useContext.addToCart,name=_useContext.name,setReviews=_useContext.setReviews;var handleChange=function handleChange(e){return setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=function handleSubmit(e,id){e.preventDefault();var updatedForm={name:form.username,review_data:{rating:Math.ceil(Math.random()*5),comment:form.comment,liquor_id:id}};fetch(\"https://fierce-gorge-06316.herokuapp.com/reviews\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(updatedForm)});setReviews(reviews);setForm({name:'',review_data:{rating:'',comment:'',liquor_id:''}});};return/*#__PURE__*/_jsx(\"div\",{className:\"component liquors\",children:props.map(function(obj){return/*#__PURE__*/_jsxs(\"main\",{id:\"liquor\",children:[/*#__PURE__*/_jsx(\"img\",{src:obj.image_url,alt:obj.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"liquor_details\",children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:obj.title}),\" \"]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup_buttons\",children:[/*#__PURE__*/_jsxs(Popup,{trigger:/*#__PURE__*/_jsx(\"button\",{className:\"popup\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fa-sharp fa-solid fa-circle-info\"})}),position:\"center center\",children:[/*#__PURE__*/_jsx(\"img\",{src:obj.image_url,alt:obj.title}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:obj.title}),\"  \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),obj.description,\"   \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"Price : \\xA0 \",/*#__PURE__*/_jsxs(\"span\",{style:{color:'red',fontSize:'large'},children:[\" Ksh. \",obj.price]})]}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Users Reviews\"}),\" \",/*#__PURE__*/_jsx(\"hr\",{}),reviews.filter(function(review){return review.liquor_id===obj.id;}).map(function(review){return review.length===0?/*#__PURE__*/_jsx(\"h4\",{children:\"There are no reviews yet.\"}):/*#__PURE__*/_jsxs(\"li\",{children:[review.comment,\"  \\u2003\",/*#__PURE__*/_jsx(\"button\",{type:\"click\",id:review.id,onClick:function onClick(e){return handleDelete(e);},style:{color:\"black\",background:\"red\"},children:\"X\"})]},review.id);})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"button\",{className:\"click\",onClick:function onClick(e){alert(\"Item added to cart\");addToCart(obj,'increase');},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-cart-shopping\"})}),/*#__PURE__*/_jsxs(Popup,{trigger:/*#__PURE__*/_jsxs(\"button\",{className:\"popup\",children:[\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fa-sharp fa-solid fa-feather-pointed\"})]}),position:\"left bottom\",children:[\"  \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return handleSubmit(e,obj.id);},target:\"\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\" Add your name: \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",onChange:function onChange(e){return handleChange(e);}})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{for:\"reviews\",children:[\" Leave a review(s) \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{name:\"comment\",onChange:function onChange(e){return handleChange(e);},placeholder:\"Share your thoughts on this liquor...\",style:{height:'100px',width:\"200px\"}})]}),\"  \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"click\",value:\"add\"})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{})]})]})]},obj.id);})});}export default LiquorCategory;","map":{"version":3,"names":["React","useContext","useState","Popup","AppContext","LiquorCategory","props","name","review_data","rating","comment","liquor_id","form","setForm","reviews","handleDelete","addToCart","setReviews","handleChange","e","target","value","handleSubmit","id","preventDefault","updatedForm","username","Math","ceil","random","fetch","method","headers","body","JSON","stringify","map","obj","image_url","title","description","color","fontSize","price","filter","review","length","background","alert","height","width"],"sources":["/home/moringa/Documents/Moringa/Development/code/phase3/PROJECT/the-booze-bodega/src/components/LiquorCategory.js"],"sourcesContent":["import React, { useContext, useState } from 'react'\nimport Popup from 'reactjs-popup'\nimport { AppContext } from '../services/app-context'\n\nfunction LiquorCategory( {props} ) {\n\n  const [form, setForm] = useState({\n    name: '',\n    review_data: {\n      rating: '',\n      comment: '',\n      liquor_id: ''\n    }\n  })\n\n  const { reviews, handleDelete, addToCart, name, setReviews } = useContext(AppContext);\n\n  const handleChange = e => setForm({...form, [e.target.name] : e.target.value})\n\n  const handleSubmit = (e, id) => {\n\n    e.preventDefault()\n\n    const updatedForm = {\n      name: form.username,\n      review_data: {\n        rating: Math.ceil(Math.random()*5),\n        comment: form.comment,\n        liquor_id: id\n      },\n    }\n\n    fetch(\"https://fierce-gorge-06316.herokuapp.com/reviews\", {\n      method: \"POST\",\n      headers : {\"Content-Type\": \"application/json\"},\n      body : JSON.stringify(updatedForm)\n    })\n\n    setReviews(reviews)\n    setForm({\n      name: '',\n      review_data: {\n        rating: '',\n        comment: '',\n        liquor_id: ''\n      }\n    })\n  }\n\n  return (\n    <div className='component liquors'>\n      {\n        props.map(obj => {\n\n          return(\n  \n            <main id='liquor' key={obj.id}>\n              <img src={obj.image_url} alt={obj.title} />\n              <p className='liquor_details'> <b>{obj.title}</b> </p> <br />\n              <div className='popup_buttons'>\n\n                <Popup \n                  trigger={<button className='popup'><i class=\"fa-sharp fa-solid fa-circle-info\"></i></button>} \n                  position=\"center center\"\n                >\n                  <img src={obj.image_url} alt={obj.title} />\n                  <p> \n                    <b>{obj.title}</b>  <br /><br />\n                    {obj.description}   <br /><br />\n                    Price : &nbsp; <span style={{color:'red', fontSize: 'large'}}> Ksh. {obj.price}</span> \n                  </p>\n                  <ul>\n                    <h3>Users Reviews</h3> <hr />\n                    {\n                      reviews.filter(review => review.liquor_id === obj.id)\n                      .map(review =>  review.length === 0 ? <h4>There are no reviews yet.</h4> : \n                      <li key={review.id}>\n                        {review.comment}  &emsp;\n                        <button type='click' id={review.id} onClick={e => handleDelete(e)} style={{color:\"black\", background:\"red\"}}>\n                          X\n                        </button>\n                      </li>\n                      )\n                    }\n                  </ul> <br /> <br />\n                </Popup>\n                <button \n                  className='click' \n                  onClick={ e => {\n                    alert (\"Item added to cart\")\n                    addToCart(obj, 'increase')}\n                  }\n                >\n                  <i className=\"fa-solid fa-cart-shopping\"></i>\n                </button> \n\n                <Popup \n                  trigger={<button className='popup'> <i className=\"fa-sharp fa-solid fa-feather-pointed\"></i>\n                  </button>} \n                  position=\"left bottom\"\n                  >  <br />\n                  <form onSubmit={e => handleSubmit(e, obj.id)} target=\"\">\n                    <label> Add your name: <br /><br />\n                      <input type='text' name=\"username\" onChange={e => handleChange(e)}/>\n                    </label> <br /> <br />\n                    <label for=\"reviews\"> Leave a review(s) <br /> <br />\n                      <textarea \n                        name=\"comment\" \n                        onChange={e => handleChange(e)} \n                        placeholder='Share your thoughts on this liquor...' \n                        style={{height: '100px', width: \"200px\"}}\n                      >\n                      </textarea>\n                    </label>  <br /> <br />\n                    <input type='submit' className='click' value='add' />\n                  </form> <br /> <br />\n                </Popup>\n              </div>\n            </main>\n          )}\n        ) \n      }\n    </div>\n  )\n}\n\nexport default LiquorCategory"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}